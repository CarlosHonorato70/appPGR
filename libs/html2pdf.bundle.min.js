/*! html2pdf.js v0.10.1 - Local fallback version for appPGR */
(function(global) {
    'use strict';

    // Simple html2pdf implementation
    function html2pdf() {
        return {
            from: function(element) {
                return {
                    set: function(options) {
                        return {
                            save: function() {
                                // Fallback to print functionality
                                const originalTitle = document.title;
                                document.title = options.filename || 'relatorio-pgr.pdf';
                                
                                // Create a print-friendly version
                                const printWindow = window.open('', '_blank');
                                printWindow.document.write(`
                                    <!DOCTYPE html>
                                    <html>
                                    <head>
                                        <title>${options.filename || 'Relat√≥rio PGR'}</title>
                                        <style>
                                            body { font-family: Arial, sans-serif; margin: 20px; }
                                            .no-print { display: none !important; }
                                            table { border-collapse: collapse; width: 100%; }
                                            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                                            th { background-color: #f2f2f2; }
                                            .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
                                            .summary-item { padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
                                        </style>
                                    </head>
                                    <body>
                                        ${element.innerHTML}
                                        <script>
                                            window.onload = function() {
                                                window.print();
                                                window.close();
                                            }
                                        </script>
                                    </body>
                                    </html>
                                `);
                                printWindow.document.close();
                                
                                document.title = originalTitle;
                            }
                        };
                    }
                };
            }
        };
    }

    // Export to global scope
    global.html2pdf = html2pdf;

})(typeof window !== 'undefined' ? window : this);